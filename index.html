<!DOCTYPE html><html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å®ãã˜ã§å„„ä¸‡é•·è€…ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</title>
  <meta property="og:title" content="å®ãã˜ã§å„„ä¸‡é•·è€…ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼">
  <meta property="og:description" content="å¤¢ã®5å„„å††â€¦ç¾å®Ÿã¯ãƒã‚ºãƒ¬ã®é€£ç¶šï¼ï¼Ÿã‚ãªãŸã‚‚é‹è©¦ã—ï¼">
  <style>
    body {
      font-family: 'Hiragino Kaku Gothic ProN', sans-serif;
      background: #fff8f0;
      color: #444;
      padding: 20px;
      text-align: center;
    }
    h1 {
      color: #b22222;
    }
    button {
      font-size: 18px;
      margin: 8px;
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      background-color: #f0c040;
      cursor: pointer;
    }
    button:hover {
      background-color: #e0b030;
    }
    input[type="range"] {
      width: 80%;
      margin: 10px auto;
    }
    #result, #summary, #adStatus, #message, #probabilities, #shareButton, #costDisplay {
      margin-top: 20px;
      white-space: pre-line;
    }
    #message {
      color: red;
      font-weight: bold;
    }
    #followButton {
      margin-top: 40px;
    }
  </style>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-2LM85GJN0L"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-2LM85GJN0L');
  </script>
</head>
<body>
  <h1>å®ãã˜ã§å„„ä¸‡é•·è€…ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</h1>
  <p>æ‰€æŒé‡‘ï¼š<span id="money">1000000</span>å††ï¼ˆä¸Šé™ï¼š1,000,000å††ï¼æœ€å¤§3333æšã¾ã§è³¼å…¥å¯ï¼‰</p>
  <label for="ticketInput">ãã˜ã®æšæ•°ï¼ˆ1æš300å††ï¼‰</label>
  <input id="ticketInput" type="range" min="1" max="3333" value="1">
  <div id="costDisplay">è³¼å…¥é‡‘é¡ï¼š300å††ï¼ˆ1æšï¼‰</div>
  <button onclick="drawLottery()">ãã˜ã‚’å¼•ãï¼ˆ1å›ã®ã¿ï¼‰</button>
  <button onclick="resetAll()">ãƒªã‚»ãƒƒãƒˆ</button>
  <div id="message"></div>
  <div id="result"></div>
  <div id="summary"></div>
  <div id="probabilities"></div>
  <div id="shareButton" style="display:none">
    <button onclick="shareOnX()">ğŸ“¤ çµæœã‚’Xã§ã‚·ã‚§ã‚¢</button>
  </div>
  <div id="adStatus"></div>
  <div id="followButton">
    <a href="https://twitter.com/kkp_webninja" target="_blank" style="text-decoration: none;">
      <div style="display:inline-block; background:#1da1f2; color:white; padding:10px 20px; border-radius:30px; font-size:16px;">
        X @kkp_webninja
      </div>
    </a>
  </div>  <script>
    let money = 1000000;
    let totalSpent = 0;
    let totalWon = 0;
    let hasPlayed = false;
    let stats = {
      "1ç­‰": 0,
      "å‰å¾Œè³": 0,
      "çµ„é•ã„è³": 0,
      "2ç­‰": 0,
      "3ç­‰": 0,
      "4ç­‰": 0,
      "5ç­‰": 0,
      "6ç­‰": 0,
      "ãƒã‚ºãƒ¬": 0
    };

    const probabilities = {
      "1ç­‰": "1 / 10,000,000",
      "å‰å¾Œè³": "2 / 10,000,000",
      "çµ„é•ã„è³": "99 / 10,000,000",
      "2ç­‰": "5 / 10,000,000",
      "3ç­‰": "100 / 10,000,000",
      "4ç­‰": "10,000 / 10,000,000",
      "5ç­‰": "100,000 / 10,000,000",
      "6ç­‰": "1,000,000 / 10,000,000",
      "ãƒã‚ºãƒ¬": "æ®‹ã‚Šå…¨éƒ¨"
    };

    function drawLottery() {
      const input = document.getElementById("ticketInput");
      const message = document.getElementById("message");
      const share = document.getElementById("shareButton");

      if (hasPlayed) {
        message.textContent = 'âš ï¸ ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤ã™ã‚‹ã«ã¯ãƒªã‚»ãƒƒãƒˆã—ã¦ãã ã•ã„ã€‚';
        return;
      }

      const count = parseInt(input.value);
      if (!count || count <= 0) {
        message.textContent = 'âš ï¸ æ­£ã—ã„æšæ•°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚';
        return;
      }

      const cost = count * 300;
      if (money < cost) {
        message.textContent = 'âš ï¸ æ‰€æŒé‡‘ãŒè¶³ã‚Šã¾ã›ã‚“ï¼';
        return;
      }

      hasPlayed = true;
      message.textContent = '';
      money -= cost;
      totalSpent += cost;

      for (let i = 0; i < count; i++) {
        const num = Math.floor(Math.random() * 10000000);
        if (num === 0) { stats["1ç­‰"]++; totalWon += 500000000; }
        else if (num === 1 || num === 2) { stats["å‰å¾Œè³"]++; totalWon += 100000000; }
        else if (num < 102) { stats["çµ„é•ã„è³"]++; totalWon += 100000; }
        else if (num < 107) { stats["2ç­‰"]++; totalWon += 10000000; }
        else if (num < 207) { stats["3ç­‰"]++; totalWon += 1000000; }
        else if (num < 10207) { stats["4ç­‰"]++; totalWon += 10000; }
        else if (num < 102207) { stats["5ç­‰"]++; totalWon += 3000; }
        else if (num < 1102207) { stats["6ç­‰"]++; totalWon += 300; }
        else { stats["ãƒã‚ºãƒ¬"]++; }
      }
      updateDisplay();
      share.style.display = 'block';
    }

    function updateDisplay() {
      document.getElementById("money").textContent = money;
      let result = '';
      for (let key in stats) {
        if (stats[key] > 0) {
          result += `${key}ï¼š${stats[key]}å›\n`;
        }
      }
      document.getElementById("result").textContent = result || 'ã¾ã ä½•ã‚‚å½“ãŸã£ã¦ã„ã¾ã›ã‚“';
      document.getElementById("summary").textContent = `è³¼å…¥é‡‘é¡ï¼š${totalSpent}å††\nå½“é¸é‡‘é¡ï¼š${totalWon}å††\næç›Šï¼š${totalWon - totalSpent}å††`;
    }

    function resetAll() {
      money = 1000000;
      totalSpent = 0;
      totalWon = 0;
      hasPlayed = false;
      for (let key in stats) stats[key] = 0;
      updateDisplay();
      document.getElementById("adStatus").textContent = '';
      document.getElementById("message").textContent = '';
      document.getElementById("ticketInput").value = 1;
      document.getElementById("shareButton").style.display = 'none';
      document.getElementById("costDisplay").textContent = 'è³¼å…¥é‡‘é¡ï¼š300å††ï¼ˆ1æšï¼‰';
    }

    function shareOnX() {
      const url = encodeURIComponent(location.href);
      const total = `è³¼å…¥é‡‘é¡ï¼š${totalSpent}å††ã€å½“é¸é‡‘é¡ï¼š${totalWon}å††ã€æç›Šï¼š${totalWon - totalSpent}å††`;
      const text = encodeURIComponent(`å®ãã˜ã§å„„ä¸‡é•·è€…ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã®çµæœğŸ¯\n${total}\nã‚ãªãŸã‚‚é‹è©¦ã—ã—ã¦ã¿ã¦ã­ğŸ‘‡`);
      const shareUrl = `https://twitter.com/intent/tweet?text=${text}&url=${url}&hashtags=å®ãã˜ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼`;
      window.open(shareUrl, '_blank');
    }

    window.onload = () => {
      let probText = 'ğŸ² å½“é¸ç¢ºç‡ï¼ˆå‚è€ƒï¼‰\n';
      for (let key in probabilities) {
        probText += `${key}ï¼š${probabilities[key]}\n`;
      }
      document.getElementById("probabilities").textContent = probText;
      updateDisplay();
    };

    document.getElementById("ticketInput").addEventListener("input", () => {
      const count = parseInt(document.getElementById("ticketInput").value);
      const costDisplay = document.getElementById("costDisplay");
      if (!isNaN(count) && count > 0) {
        costDisplay.textContent = `è³¼å…¥é‡‘é¡ï¼š${count * 300}å††ï¼ˆ${count}æšï¼‰`;
      } else {
        costDisplay.textContent = '';
      }
    });
  </script></body>
</html>
