<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>宝くじで億万長者シミュレーター</title>
  <meta name="description" content="スマホで宝くじ気分！億万長者になれるか？">
  <meta property="og:title" content="宝くじで億万長者シミュレーター" />
  <meta property="og:description" content="所持金が減るリアル感！あなたの運命を試そう。" />
  <meta property="og:image" content="https://kkp-15.github.io/ninja-takarakuji-sim/images/ogp.png" />
  <meta property="og:url" content="https://kkp-15.github.io/ninja-takarakuji-sim/" />
  <meta name="twitter:card" content="summary_large_image" />
  <style>
    body {
      font-family: 'Hiragino Kaku Gothic ProN', sans-serif;
      background: #fff8e1;
      text-align: center;
      padding: 20px;
    }
    h1 {
      font-size: 1.8rem;
      margin-bottom: 10px;
    }
    #money {
      font-size: 1.5rem;
      margin: 10px 0;
    }
    button {
      padding: 15px 25px;
      font-size: 1.2rem;
      margin: 10px;
      border: none;
      border-radius: 8px;
      background-color: #ff9800;
      color: white;
      cursor: pointer;
    }
    button:disabled {
      background-color: #ccc;
      cursor: wait;
    }
    #result {
      margin-top: 20px;
      font-size: 1.3rem;
    }
    .ad-msg {
      font-size: 1rem;
      color: #444;
      margin-top: 15px;
      line-height: 1.6;
    }
    #share {
      margin-top: 30px;
    }
    #share a {
      text-decoration: none;
      color: white;
      background: #1da1f2;
      padding: 10px 20px;
      border-radius: 6px;
      display: inline-block;
    }
  </style>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-2LM85GJN0L"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-2LM85GJN0L');
  </script>
</head>
<body>
  <h1>宝くじで億万長者シミュレーター</h1>
  <div id="money">所持金：10,000円</div>
  <button onclick="buyLottery()">宝くじを買う（1,000円）</button>
  <button onclick="watchAd()" id="adBtn">広告を見る（無料）</button>
  <div id="result"></div>
  <div class="ad-msg" id="ad"></div>

  <div id="share">
    <a href="#" id="tweetBtn" target="_blank">結果をXでシェアする</a>
  </div>

  <script>
    let money = 10000;
    const moneyDisplay = document.getElementById("money");
    const resultDisplay = document.getElementById("result");
    const adDisplay = document.getElementById("ad");
    const tweetBtn = document.getElementById("tweetBtn");
    const adBtn = document.getElementById("adBtn");

    function buyLottery() {
      if (money < 1000) {
        resultDisplay.textContent = "所持金が足りません。";
        return;
      }

      money -= 1000;
      moneyDisplay.textContent = `所持金：${money.toLocaleString()}円`;

      const rand = Math.random();
      let result;
      let amount = 0;

      if (rand < 0.000001) {
        result = "🎉 1等！10億円当選！！";
        amount = 1000000000;
      } else if (rand < 0.0001) {
        result = "✨ 2等！1,000万円当選！";
        amount = 10000000;
      } else if (rand < 0.001) {
        result = "🥈 3等！100万円当選！";
        amount = 1000000;
      } else if (rand < 0.01) {
        result = "🎊 4等！1万円当選！";
        amount = 10000;
      } else if (rand < 0.05) {
        result = "😊 5等！3,000円当選！";
        amount = 3000;
      } else {
        result = "😢 ハズレ…また挑戦して！";
        amount = 0;
      }

      money += amount;
      resultDisplay.textContent = result;
      moneyDisplay.textContent = `所持金：${money.toLocaleString()}円`;

      const tweetText = encodeURIComponent(`【宝くじシミュレーター🎯】\n${result}\n現在の所持金：${money.toLocaleString()}円\n#宝くじシミュレーター`);
      tweetBtn.href = `https://twitter.com/intent/tweet?text=${tweetText}&url=https://kkp-15.github.io/ninja-takarakuji-sim/`;
    }

    function watchAd() {
      adBtn.disabled = true;
      adBtn.textContent = "広告再生中…";

      const wait = Math.floor(Math.random() * 3) + 1; // 1〜3秒
      const bonus = Math.floor(Math.random() * 5 + 1) * 100; // 100〜500円
      const messages = [
        "💡気づいたら夕方になってた",
        "🫠何も得られなかった…はずだった",
        "📺興味のないCMを3回見た気分",
        "⏳あなたの時間は戻ってこない",
        "🤡“無料”は時間で支払うって知ってた？",
        "💥でもまた見たくなる不思議",
        "😂実は…ちょっと得した"
      ];

      setTimeout(() => {
        money += bonus;
        const randomMsg = messages[Math.floor(Math.random() * messages.length)];
        adDisplay.innerHTML = `🌀 広告を見て ${wait}秒が溶けました<br>💰 ${bonus.toLocaleString()}円もらえた！<br>${randomMsg}`;
        moneyDisplay.textContent = `所持金：${money.toLocaleString()}円`;
        adBtn.disabled = false;
        adBtn.textContent = "広告を見る（無料）";
      }, wait * 1000);
    }
  </script>
</body>
</html>
