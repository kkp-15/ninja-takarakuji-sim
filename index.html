<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>å®ãã˜ã§å„„ä¸‡é•·è€…ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</title>
  <meta name="description" content="ã‚¹ãƒãƒ›ã§å®ãã˜æ°—åˆ†ï¼å„„ä¸‡é•·è€…ã«ãªã‚Œã‚‹ã‹ï¼Ÿ">
  <meta property="og:title" content="å®ãã˜ã§å„„ä¸‡é•·è€…ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼" />
  <meta property="og:description" content="æ‰€æŒé‡‘ãŒæ¸›ã‚‹ãƒªã‚¢ãƒ«æ„Ÿï¼ã‚ãªãŸã®é‹å‘½ã‚’è©¦ãã†ã€‚" />
  <meta property="og:image" content="https://kkp-15.github.io/ninja-takarakuji-sim/images/ogp.png" />
  <meta property="og:url" content="https://kkp-15.github.io/ninja-takarakuji-sim/" />
  <meta name="twitter:card" content="summary_large_image" />
  <style>
    body {
      font-family: 'Hiragino Kaku Gothic ProN', sans-serif;
      background: #fff8e1;
      text-align: center;
      padding: 20px;
    }
    h1 {
      font-size: 1.8rem;
      margin-bottom: 10px;
    }
    #money {
      font-size: 1.5rem;
      margin: 10px 0;
    }
    button {
      padding: 15px 25px;
      font-size: 1.2rem;
      margin: 10px;
      border: none;
      border-radius: 8px;
      background-color: #ff9800;
      color: white;
      cursor: pointer;
    }
    button:disabled {
      background-color: #ccc;
      cursor: wait;
    }
    #result {
      margin-top: 20px;
      font-size: 1.2rem;
      white-space: pre-wrap;
    }
    .ad-msg {
      font-size: 1rem;
      color: #444;
      margin-top: 15px;
      line-height: 1.6;
    }
    #share {
      margin-top: 30px;
    }
    #share a {
      text-decoration: none;
      color: white;
      background: #1da1f2;
      padding: 10px 20px;
      border-radius: 6px;
      display: inline-block;
    }
  </style>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-2LM85GJN0L"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-2LM85GJN0L');
  </script>
</head>
<body>
  <h1>å®ãã˜ã§å„„ä¸‡é•·è€…ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</h1>
  <div id="money">æ‰€æŒé‡‘ï¼š10,000å††</div>

  <p>ä½•æšè²·ã†ï¼Ÿ</p>
  <button onclick="buyLottery(1)">1æšï¼ˆ1,000å††ï¼‰</button>
  <button onclick="buyLottery(5)">5æšï¼ˆ5,000å††ï¼‰</button>
  <button onclick="buyLottery(10)">10æšï¼ˆ10,000å††ï¼‰</button>

  <button onclick="watchAd()" id="adBtn">åºƒå‘Šã‚’è¦‹ã‚‹ï¼ˆç„¡æ–™ï¼‰</button>

  <div id="result"></div>
  <div class="ad-msg" id="ad"></div>

  <div id="share">
    <a href="#" id="tweetBtn" target="_blank">çµæœã‚’Xã§ã‚·ã‚§ã‚¢ã™ã‚‹</a>
  </div>

  <script>
    let money = 10000;
    let totalSpent = 0;
    let totalWon = 0;

    const moneyDisplay = document.getElementById("money");
    const resultDisplay = document.getElementById("result");
    const adDisplay = document.getElementById("ad");
    const tweetBtn = document.getElementById("tweetBtn");
    const adBtn = document.getElementById("adBtn");

    function buyLottery(count) {
      const cost = count * 1000;
      if (money < cost) {
        resultDisplay.textContent = "æ‰€æŒé‡‘ãŒè¶³ã‚Šã¾ã›ã‚“ã€‚";
        return;
      }

      money -= cost;
      totalSpent += cost;
      let sessionResult = [];
      let sessionWin = 0;

      for (let i = 0; i < count; i++) {
        const rand = Math.random();
        let prize = 0;
        if (rand < 0.000001) prize = 1000000000;
        else if (rand < 0.0001) prize = 10000000;
        else if (rand < 0.001) prize = 1000000;
        else if (rand < 0.01) prize = 10000;
        else if (rand < 0.05) prize = 3000;

        if (prize > 0) {
          sessionResult.push(`ğŸ‰ ${i + 1}æšç›®ï¼š${prize.toLocaleString()}å††å½“é¸ï¼`);
        } else {
          sessionResult.push(`ğŸ˜¢ ${i + 1}æšç›®ï¼šãƒã‚ºãƒ¬`);
        }

        sessionWin += prize;
      }

      money += sessionWin;
      totalWon += sessionWin;

      const profit = sessionWin - cost;
      const totalProfit = totalWon - totalSpent;

      const resultText = `ğŸŸ å®ãã˜ ${count}æšè³¼å…¥ï¼\n` +
                         sessionResult.join("\n") +
                         `\n\nğŸ’° ä»Šå›ã®æç›Šï¼š${profit >= 0 ? '+' : ''}${profit.toLocaleString()}å††` +
                         `\nğŸ“Š ç´¯è¨ˆæç›Šï¼š${totalProfit >= 0 ? '+' : ''}${totalProfit.toLocaleString()}å††`;

      resultDisplay.textContent = resultText;
      moneyDisplay.textContent = `æ‰€æŒé‡‘ï¼š${money.toLocaleString()}å††`;

      const tweetText = encodeURIComponent(`ã€å®ãã˜ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ğŸ¯ã€‘\n${resultText}\n#å®ãã˜ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼`);
      tweetBtn.href = `https://twitter.com/intent/tweet?text=${tweetText}&url=https://kkp-15.github.io/ninja-takarakuji-sim/`;
    }

    function watchAd() {
      adBtn.disabled = true;
      adBtn.textContent = "åºƒå‘Šå†ç”Ÿä¸­â€¦";

      const wait = Math.floor(Math.random() * 3) + 1;
      const bonus = Math.floor(Math.random() * 5 + 1) * 100;
      const messages = [
        "âŒ›ä½¿ã£ãŸæ™‚é–“ã¯æˆ»ã‚‰ãªã„â€¦ã§ã‚‚åºƒå‘Šã¯ä½•åº¦ã‚‚å‡ºã¦ãã‚‹ã€‚",
        "ğŸ˜‡ã‚ãªãŸã®5ç§’ã€ä»–äººã®åˆ©ç›Šã«ãªã‚Šã¾ã—ãŸã€‚",
        "ğŸ’­â€œæ™‚é–“ã¯ãŠé‡‘ã‚ˆã‚Šå¤§åˆ‡â€ã£ã¦èª°ã‹ãŒè¨€ã£ã¦ãŸã‚ˆã†ãªã€‚",
        "ğŸ“ºã“ã®åºƒå‘Šã€äººç”Ÿã§ä½•å›è¦‹ãŸã‹è¦šãˆã¦ã¾ã™ã‹ï¼Ÿ",
        "ğŸŒ€ä½•ã‚‚å¾—ãªã‹ã£ãŸâ€¦ã¯ãšãªã®ã«ã€ãªãœã‹ã¾ãŸæŠ¼ã—ã¦ã—ã¾ã†ã€‚",
        "â³ä»Šã®æ•°ç§’ã§ã€å¤¢ã¯å°‘ã—é ã®ã„ãŸã‹ã‚‚ã€‚",
        "ğŸ¤–æ°—ã¥ã‘ã°æŒ‡ãŒå‹æ‰‹ã«â€¦æ™‚é–“ãŒæº¶ã‘ã‚‹ã¨ã¯ã“ã®ã“ã¨ã‹ã€‚",
        "ğŸ¥²â€œç„¡é§„ãªæ™‚é–“â€ã®å®šç¾©ãŒå°‘ã—ã‚ã‹ã£ãŸæ°—ãŒã™ã‚‹ã€‚",
        "ğŸ“‰ç§’å˜ä½ã§äººç”Ÿã‚’æµªè²»ã—ã¦ã„ãæ„Ÿè¦šã€ã‚¯ã‚»ã«ãªã‚Šãã†ã€‚",
        "ğŸ’¸ãŠé‡‘ã¯å¢—ãˆãŸã‘ã©ã€å›ã®äººç”Ÿæ®‹ã‚Šæ™‚é–“ã¯æ¸›ã£ãŸãã€‚"
      ];

      setTimeout(() => {
        money += bonus;
        const randomMsg = messages[Math.floor(Math.random() * messages.length)];
        adDisplay.innerHTML = `ğŸŒ€ åºƒå‘Šã‚’è¦‹ã¦ ${wait}ç§’ãŒæº¶ã‘ã¾ã—ãŸ<br>ğŸ’° ${bonus.toLocaleString()}å††ã‚‚ã‚‰ãˆãŸï¼<br>${randomMsg}`;
        moneyDisplay.textContent = `æ‰€æŒé‡‘ï¼š${money.toLocaleString()}å††`;
        adBtn.disabled = false;
        adBtn.textContent = "åºƒå‘Šã‚’è¦‹ã‚‹ï¼ˆç„¡æ–™ï¼‰";
      }, wait * 1000);
    }
  </script>
</body>
</html>
